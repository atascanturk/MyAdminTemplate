@model MyWebsite.MvcUI.Models.MemberAddViewModel
@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration


@{
    ViewData["Title"] = "Bize Katılın";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container">
    <div class="custom-title">
        <h2>BİZE KATILIN</h2>
        <p>Bize katılmak için aşağıdaki formu doldurmanız yeterlidir.</p>
        <h4>@Html.ValidationMessage("RealPersonValidator", new { @class = "text-danger" })</h4>
        <h4>@Html.ValidationMessage("RealPersonValidatorSuccess", new { @class = "text-success" })</h4>
    </div>
    <div class="contact_grid_right">
        <div id="modalPlaceHolder" aria-hidden="true"></div>
        <form asp-controller="Member" asp-action="AddMember" method="post">
            <div class="row contact_left_grid">
                <div class="col-md-6 con-left">
                    <div class="form-group">
                        <label for="validationCustom01 my-2">Ad*</label>
                        <input class="form-control" id="name" asp-for="FirstName" type="text" placeholder="" required="">
                        <span class="text-danger" asp-validation-for="FirstName"></span>
                    </div>

                    <div class="form-group">
                        <label for="validationCustom01 my-2">Soyad*</label>
                        <input class="form-control" id="surname" asp-for="LastName" type="text" placeholder="" required="">
                        <span class="text-danger" asp-validation-for="LastName"></span>
                    </div>

                    <div class="form-group">
                        <label for="validationCustom03 my-2">E-Posta*</label>
                        <input class="form-control" id="email" type="text" asp-for="Email" placeholder="" required="">
                        <span class="text-danger" asp-validation-for="Email"></span>
                    </div>
                    <div class="form-group">
                        <label for="city">İl*</label>
                        <select class="form-select mb-3" asp-for="City">
                            <option value="Adana">Adana</option>
                            <option value="Adıyaman">Adıyaman</option>
                            <option value="Afyonkarahisar">Afyonkarahisar</option>
                            <option value="Ağrı">Ağrı</option>
                            <option value="Amasya">Amasya</option>
                            <option value="Ankara">Ankara</option>
                            <option value="Antalya">Antalya</option>
                            <option value="Artvin">Artvin</option>
                            <option value="Aydın">Aydın</option>
                            <option value="Balıkesir">Balıkesir</option>
                            <option value="Bilecik">Bilecik</option>
                            <option value="Bingöl">Bingöl</option>
                            <option value="Bitlis">Bitlis</option>
                            <option value="Bolu">Bolu</option>
                            <option value="Burdur">Burdur</option>
                            <option value="Bursa">Bursa</option>
                            <option value="Çanakkale">Çanakkale</option>
                            <option value="Çankırı">Çankırı</option>
                            <option value="Çorum">Çorum</option>
                            <option value="Denizli">Denizli</option>
                            <option value="Diyarbakır">Diyarbakır</option>
                            <option value="Edirne">Edirne</option>
                            <option value="Elazığ">Elazığ</option>
                            <option value="Erzincan">Erzincan</option>
                            <option value="Erzurum">Erzurum</option>
                            <option value="Eskişehir">Eskişehir</option>
                            <option value="Gaziantep">Gaziantep</option>
                            <option value="Giresun">Giresun</option>
                            <option value="Gümüşhane">Gümüşhane</option>
                            <option value="Hakkâri">Hakkâri</option>
                            <option value="Hatay">Hatay</option>
                            <option value="Isparta">Isparta</option>
                            <option value="Mersin">Mersin</option>
                            <option value="İstanbul">İstanbul</option>
                            <option value="İzmir">İzmir</option>
                            <option value="Kars">Kars</option>
                            <option value="Kastamonu">Kastamonu</option>
                            <option value="Kayseri">Kayseri</option>
                            <option value="Kırklareli">Kırklareli</option>
                            <option value="Kırşehir">Kırşehir</option>
                            <option value="Kocaeli">Kocaeli</option>
                            <option value="Konya">Konya</option>
                            <option value="Kütahya">Kütahya</option>
                            <option value="Malatya">Malatya</option>
                            <option value="Manisa">Manisa</option>
                            <option value="Kahramanmaraş">Kahramanmaraş</option>
                            <option value="Mardin">Mardin</option>
                            <option value="Muğla">Muğla</option>
                            <option value="Muş">Muş</option>
                            <option value="Nevşehir">Nevşehir</option>
                            <option value="Niğde">Niğde</option>
                            <option value="Ordu">Ordu</option>
                            <option value="Rize">Rize</option>
                            <option value="Sakarya">Sakarya</option>
                            <option value="Samsun">Samsun</option>
                            <option value="Siirt">Siirt</option>
                            <option value="Sinop">Sinop</option>
                            <option value="Sivas">Sivas</option>
                            <option value="Tekirdağ">Tekirdağ</option>
                            <option value="Tokat">Tokat</option>
                            <option value="Trabzon">Trabzon</option>
                            <option value="Tunceli">Tunceli</option>
                            <option value="Şanlıurfa">Şanlıurfa</option>
                            <option value="Uşak">Uşak</option>
                            <option value="Van">Van</option>
                            <option value="Yozgat">Yozgat</option>
                            <option value="Zonguldak">Zonguldak</option>
                            <option value="Aksaray">Aksaray</option>
                            <option value="Bayburt">Bayburt</option>
                            <option value="Karaman">Karaman</option>
                            <option value="Kırıkkale">Kırıkkale</option>
                            <option value="Batman">Batman</option>
                            <option value="Şırnak">Şırnak</option>
                            <option value="Bartın">Bartın</option>
                            <option value="Ardahan">Ardahan</option>
                            <option value="Iğdır">Iğdır</option>
                            <option value="Yalova">Yalova</option>
                            <option value="Karabük">Karabük</option>
                            <option value="Kilis">Kilis</option>
                            <option value="Osmaniye">Osmaniye</option>
                            <option value="Düzce">Düzce</option>
                        </select>
                        <span class="text-danger" asp-validation-for="City"></span>
                    </div>

                    <div class="form-group">
                        <label for="validationCustom03 my-2">Meslek*</label>
                        <input class="form-control" id="profession" type="text" asp-for="Profession" placeholder="" required="">
                        <span class="text-danger" asp-validation-for="Profession"></span>
                    </div>

                    <p>İşaretli (*) alanlar zorunludur</p>

                </div>
                <div class="col-md-6 con-right">
                    <div class="form-group">
                        <label for="validationCustom01 my-2">Cep Telefonu*</label>
                        <input class="form-control phone" id="phone" type="tel" asp-for="PhoneNumber" placeholder="(5xx)_______" required="">
                        <span class="text-danger" asp-validation-for="PhoneNumber"></span>
                    </div>
                    <div class="form-group">
                        <label for="validationCustom01 my-2">TC Kimlik No*</label>
                        <input class="form-control" type="text" maxlength="11" asp-for="IdentityNumber" placeholder="" required="">
                        <span class="text-danger" asp-validation-for="IdentityNumber"></span>
                    </div>

                    <div class="form-group">
                        <label for="validationCustom01 my-2">Doğum Tarihi*</label>
                        <input class="form-control" type="date" asp-for="BirthOfDay" placeholder="" required="">
                        <span class="text-danger" asp-validation-for="BirthOfDay"></span>
                    </div>

                    <div class="form-group">
                        <label for="validationCustom03">İlçe*</label>
                        <input class="form-control" id="district" type="text" asp-for="District" placeholder="" required="">
                        <span class="text-danger" asp-validation-for="District"></span>
                    </div>

                    <div class="form-group">
                        <input type="checkbox" id="cbxAccept" style="width: 21px;height: 14px" required asp-for="IsAccepted" />
                        <a id="informationForm">  <span style="font-weight: bold;font-size:17px;color: red; text-decoration:underline; cursor:pointer;">Bilgilendirme Metnini Okudum Kabul Ediyorum *</span></a>
                        <span class="text-danger" asp-validation-for="IsAccepted"></span>

                        <input id="btnSubmit" class="form-control mt-1" type="submit" value="Başvur">
                    </div>

                </div>
            </div>
        </form>
    </div>
</div>


@section Scripts {

    <script src="~/js/memberUI.js" type="application/ecmascript"></script>

    <script src="https://www.google.com/recaptcha/api.js?render=@Configuration["GoogleReCaptcha:ClientKeyV3"]"></script>
    <script>

        grecaptcha.ready(function () {
            grecaptcha.execute("@Configuration["GoogleReCaptcha:ClientKeyV3"]", { action: "Member" })
                .then(function (token) {
                    $.ajax({
                        type: 'Get',
                        dataType: 'json',
                        data: { token: token },
                        url: '/Auth/RecaptchaVerifyV3/',
                        success: function (data) {
                            const isValid = jQuery.parseJSON(data);
                            $('Body').prepend('<input type="hidden" name="token" value="' + token + '">');
                        },
                        error: function (err) {
                            console.log(err);

                        }
                    });
                });
        });

    </script>


}

@section Styles {
    <style type="text/css">
        #surname {
            text-transform: uppercase;
        }

        #email {
            text-transform: lowercase;
        }

        #name, #profession, #district {
            text-transform: capitalize;
        }
    </style>

}